(window.webpackJsonp=window.webpackJsonp||[]).push([[14,9,10],{515:function(t,e,n){"use strict";n.r(e);n(8),n(47),n(209),n(36);var o={props:{value:{default:0,type:Number},max:{default:null,type:Number}},data:function(){return{input:this.value?this.value:0,state:!1,parsed:null}},watch:{value:function(t){this.parsed=t}},mounted:function(){this.parsed=this.value},methods:{show:function(){this.state=!0,this.input=this.parsed.toString()},onAdd:function(dt){this.max&&parseFloat(this.input+dt)>this.max?this.input=this.max.toString():0===parseInt(this.input)?this.input=dt:this.input+=dt},onDelete:function(){this.input=this.input.slice(0,-1)},onSubmit:function(){this.parsed=parseFloat(this.input?this.input:0),this.$emit("submit",this.parsed),this.state=!1}}},l=n(84),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.parsed,expression:"parsed"}],staticClass:"form-control input-modal",attrs:{readonly:"",type:"text"},domProps:{value:t.parsed},on:{click:t.show,input:function(e){e.target.composing||(t.parsed=e.target.value)}}}),t._v(" "),e("b-modal",{ref:"modalNumber",attrs:{id:"modalNumber",centered:"","no-fade":"","hide-header":"","hide-footer":"","modal-class":"fade scale","content-class":"text-center rounded",title:"BootstrapVue"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("b-container",[e("div",{staticClass:"pt-4 text-right"},[e("h5",[e("strong",[t._v("\n            "+t._s(t.input?t.input:0)+"\n          ")])])])]),t._v(" "),e("hr",{staticClass:"m-3"}),t._v(" "),t.max?e("b-container",[e("div",{staticClass:"text-right"},[e("h6",{staticClass:"text-danger"},[e("strong",[t._v("\n            ( Max "+t._s(t.max)+" )\n          ")])])])]):t._e(),t._v(" "),e("div",[e("div",{staticClass:"row m-3 mb-5"},[t._l(9,(function(i){return e("div",{key:i,staticClass:"col-4 p-4 b-1 clickable",on:{click:function(e){t.onAdd(i.toString())}}},[t._v("\n          "+t._s(i)+"\n        ")])})),t._v(" "),e("div",{staticClass:"col-4 p-4 b-1",on:{click:function(e){return t.onAdd(".")}}},[t._v("\n          .\n        ")]),t._v(" "),e("div",{staticClass:"col-4 p-4 b-1",on:{click:function(e){t.input.length>0&&t.onAdd("0")}}},[t._v("\n          0\n        ")]),t._v(" "),e("div",{staticClass:"col-4 p-4 b-1",on:{click:t.onDelete}},[t._v("\n          x\n        ")])],2)]),t._v(" "),e("b-button",{staticClass:"mt-3 text-white",attrs:{variant:"primary",block:""},on:{click:t.onSubmit}},[t._v("\n      Simpan\n    ")]),t._v(" "),e("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:function(){t.state=!1}}},[t._v("\n      Batal\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},516:function(t,e,n){"use strict";var o=n(26),l=n(98).findIndex,r=n(119),c="findIndex",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),o({target:"Array",proto:!0,forced:d},{findIndex:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),r(c)},518:function(t,e,n){var content=n(521);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(171).default)("faa51b84",content,!0,{sourceMap:!1})},520:function(t,e,n){"use strict";n(518)},521:function(t,e,n){var o=n(170)((function(i){return i[1]}));o.push([t.i,"\n.modal-xl {\n  max-width: 90vw !important;\n}\n",""]),o.locals={},t.exports=o},522:function(t,e,n){"use strict";n.r(e);n(90),n(142),n(516),n(208),n(25),n(118);var o={components:{},props:{title:{default:"Pilih Produk",type:String},warehouse:{default:function(){return{}},type:Object}},data:function(){return{endpoint:"item/category",state:!1,options:[],selected:[],search:null,isError:!1,isLoading:!1}},methods:{show:function(){this.state=!0,this.fetchData()},onFilter:function(){},onSelected:function(dt){var t=this.selected.findIndex((function(t){return t===dt}));t>=0?this.selected.splice(t,1):this.selected.push(dt)},onRemove:function(t){},fetchData:function(){var t=this,e=this;this.isError=!1,this.isLoading=!0;var n={search:e.search};this.$store.dispatch(this.endpoint,n).then((function(n){t.options=n.data.data,e.isError=!1,e.isLoading=!1})).catch((function(t){console.log("err",t),e.$store.commit("alert/setAlert",{type:"fail",msg:"Gagal Mengambil Data"}),e.isError=!0,e.isLoading=!1}))},submit:function(){this.state=!1,this.$emit("submit",this.selected)}}},l=(n(520),n(84)),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("b-modal",{ref:"modalFilter",attrs:{id:"modalFilter",centered:"","no-fade":"","hide-header":"","hide-footer":"",size:"l","modal-class":"fade scale","content-class":"rounded"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("div",[e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("strong",{staticClass:"text-primary"},[t._v("\n              Filter\n            ")])])]),t._v(" "),t.isLoading?e("div",{staticClass:"row"},[e("div",{staticClass:"col v-center"},[e("b-spinner",{staticClass:"mt-4",attrs:{variant:"primary",type:"grow",label:"Spinning"}})],1)]):e("div",{staticClass:"row",staticStyle:{"overflow-y":"scroll",height:"50vh"}},t._l(t.options,(function(dt,n){return e("div",{key:n,staticClass:"col-3 mt-2 px-0"},[e("div",{staticClass:"card m-1 text-center text-primary v-center",class:{"bg-soft":t.selected.includes(dt.KodeKategori)},staticStyle:{height:"3rem"},on:{click:function(e){return t.onSelected(dt.KodeKategori)}}},[t._v("\n              "+t._s(dt.NamaKategori)+"\n            ")])])})),0)]),t._v(" "),e("div",{staticClass:"row",staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[e("div",{staticClass:"col"},[t._v("\n          "+t._s(t.selected.length)+" Filter Terpilih\n        ")]),t._v(" "),e("div",{staticClass:"col text-right"},[e("b-button",{staticClass:"button-bottom mb-2",attrs:{variant:"outline-danger"},on:{click:function(e){t.selected=[]}}},[t._v("\n            Reset\n          ")]),t._v(" "),e("b-button",{staticClass:"button-bottom mb-2",attrs:{variant:"primary"},on:{click:t.submit}},[t._v("\n            Terapkan\n          ")])],1)])])])],1)}),[],!1,null,null,null);e.default=component.exports},527:function(t,e,n){var content=n(537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(171).default)("2b28d6d4",content,!0,{sourceMap:!1})},536:function(t,e,n){"use strict";n(527)},537:function(t,e,n){var o=n(170)((function(i){return i[1]}));o.push([t.i,"\n.modal-xl {\n  max-width: 90vw !important;\n}\n",""]),o.locals={},t.exports=o},540:function(t,e,n){"use strict";n.r(e);n(11),n(8),n(172),n(516),n(16),n(208),n(25),n(118);var o=n(515),filter=n(522),l={components:{inputNumber:o.default,inputFilter:filter.default},props:{title:{default:"Pilih Produk",type:String},warehouse:{default:"",type:String}},data:function(){return{input:null,endpoint:"item/fetch",state:!1,filter:[],options:[],selected:null,search:null,lines:[],page:1,total:0,isError:!1,isLoading:!1}},methods:{show:function(){this.state=!0,this.lines=[],this.fetchData()},onFilter:function(){this.$refs.inputFilter.show()},onFilterAdded:function(dt){this.filter=dt,this.fetchData()},onSelected:function(dt){var t=this.lines.find((function(t){return t.id===dt.id}));if(t&&(0===dt.Stok||t.Qty>=dt.Stok))this.$store.commit("alert/setAlert",{type:"fail",msg:"Stok tidak mencukupi"});else{var e=this.lines.findIndex((function(t){return t.id===dt.id}));if(e<0)if(0===dt.Stok)this.$store.commit("alert/setAlert",{type:"fail",msg:"Stok tidak mencukupi"});else{var n=JSON.parse(JSON.stringify(dt));n.Qty=1,this.lines.push(n)}else if(this.lines[e]&&this.lines[e].Qty){var o=this.lines[e];o.Qty+=1,this.lines.splice(e,1),this.lines.splice(e,0,o)}}},onRemove:function(t){this.lines.splice(t,1)},fetchData:function(){var t=this,e=this;this.isError=!1,this.isLoading=!0;var n={category:e.filter,page:e.page,search:e.search,warehouse:e.warehouse?e.warehouse:null};this.$store.dispatch(this.endpoint,n).then((function(n){t.options=n.data.data.data,t.total=n.data.data.total,e.isError=!1,e.isLoading=!1})).catch((function(t){console.log("err",t),e.$store.commit("alert/setAlert",{type:"fail",msg:"Gagal Mengambil Data"}),e.isError=!0,e.isLoading=!1}))},submit:function(){this.$emit("submit",this.lines),this.state=!1}}},r=(n(536),n(84)),component=Object(r.a)(l,(function(){var t=this,e=t._self._c;return e("div",[e("b-modal",{ref:"modalProduct",attrs:{id:"modalProduct",centered:"","no-fade":"","hide-header":"","hide-footer":"",size:"xl","modal-class":"fade scale","content-class":"product rounded"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("div",[e("div",{staticClass:"mb-4"},[e("div",{staticClass:"pt-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-5 pl-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                      "+t._s(t.title)+"\n                    ")])])]),t._v(" "),e("div",{staticClass:"col-4 text-center"},[e("div",{staticClass:"b-primary",class:{"bg-soft":t.filter.length>0},on:{click:t.onFilter}},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                        "+t._s(t.filter.length>0?t.filter.length:"")+" Filter\n                      ")])])])])])]),t._v(" "),e("div",{staticClass:"col-7"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-7 pl-1"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                      Barang\n                    ")])])]),t._v(" "),e("div",{staticClass:"col-2 pl-1"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                      Satuan\n                    ")])])]),t._v(" "),e("div",{staticClass:"col-2 pl-1"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                      Qty\n                    ")])])]),t._v(" "),e("div",{staticClass:"col-1 pl-1"})])])])])]),t._v(" "),e("div",{staticClass:"row pb-5 product-content"},[e("div",{staticClass:"col-5 text-center product-content",staticStyle:{"overflow-y":"scroll"}},[t.isLoading?e("div",{staticClass:"row"},[e("div",{staticClass:"col v-center"},[e("b-spinner",{staticClass:"mt-4",attrs:{variant:"primary",type:"grow",label:"Spinning"}})],1)]):e("div",{staticClass:"row"},t._l(t.options,(function(dt,i){return e("div",{key:"i-"+i,staticClass:"col-3 pl-0 pr-0",on:{click:function(e){return t.onSelected(dt)}}},[e("div",{staticClass:"card m-1",class:{"out-of-stock":0===dt.Stok,clickable:dt.Stok>0}},[e("img",{staticStyle:{height:"5rem"},attrs:{src:"https://placekitten.com/640/360",alt:""}}),t._v(" "),e("p",{staticClass:"mb-0 mt-1 text-primary",staticStyle:{overflow:"hidden",height:"4rem"}},[t._v("\n                  "+t._s(dt.NamaItem)+"\n                ")]),t._v(" "),e("hr",{staticClass:"my-0 py-0"}),t._v(" "),e("p",{staticClass:"mb-0 mt-1 text-primary",staticStyle:{overflow:"hidden",height:"2rem"}},[t._v("\n                  Stok: "+t._s(dt.Stok)+"\n                ")])])])})),0)]),t._v(" "),e("div",{staticClass:"col-7 bl-1 product-content",staticStyle:{"overflow-y":"scroll"}},t._l(t.lines,(function(dt,i){return e("div",{key:"i-"+i,staticClass:"row mt-2"},[e("div",{staticClass:"col-7 px-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:dt.NamaItem,expression:"dt.NamaItem"}],staticClass:"form-control input-modal",attrs:{readonly:"",type:"text"},domProps:{value:dt.NamaItem},on:{input:function(e){e.target.composing||t.$set(dt,"NamaItem",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-2 px-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:dt.KodeSatuan,expression:"dt.KodeSatuan"}],staticClass:"form-control input-modal",attrs:{readonly:"",type:"text"},domProps:{value:dt.KodeSatuan},on:{input:function(e){e.target.composing||t.$set(dt,"KodeSatuan",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-2 px-1"},[e("inputNumber",{ref:"inputNumber",refInFor:!0,attrs:{value:dt.Qty,max:dt.Stok},on:{submit:function(t){dt.Qty=t}}})],1),t._v(" "),e("div",{staticClass:"col-1 px-1"},[e("b-icon",{staticClass:"mt-1 text-danger",attrs:{icon:"x","font-scale":"1.7"},on:{click:function(e){return t.onRemove(i)}}})],1)])})),0)]),t._v(" "),e("div",{staticClass:"row",staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[e("div",{staticClass:"col-6 justify-content-center"},[e("b-pagination",{attrs:{"total-rows":t.total,"per-page":12,disabled:t.isLoading,align:"center"},on:{input:t.fetchData},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),t._v(" "),e("div",{staticClass:"col-6 text-right"},[e("b-button",{staticClass:"button-bottom",attrs:{variant:"primary"},on:{click:t.submit}},[t._v("\n            Tambah\n          ")])],1)])])]),t._v(" "),e("inputFilter",{ref:"inputFilter",on:{submit:t.onFilterAdded}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);