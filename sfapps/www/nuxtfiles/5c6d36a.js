(window.webpackJsonp=window.webpackJsonp||[]).push([[15,10],{515:function(t,e,n){"use strict";n.r(e);n(8),n(47),n(209),n(36);var o={props:{value:{default:0,type:Number},max:{default:null,type:Number}},data:function(){return{input:this.value?this.value:0,state:!1,parsed:null}},watch:{value:function(t){this.parsed=t}},mounted:function(){this.parsed=this.value},methods:{show:function(){this.state=!0,this.input=this.parsed.toString()},onAdd:function(dt){this.max&&parseFloat(this.input+dt)>this.max?this.input=this.max.toString():0===parseInt(this.input)?this.input=dt:this.input+=dt},onDelete:function(){this.input=this.input.slice(0,-1)},onSubmit:function(){this.parsed=parseFloat(this.input?this.input:0),this.$emit("submit",this.parsed),this.state=!1}}},r=n(84),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.parsed,expression:"parsed"}],staticClass:"form-control input-modal",attrs:{readonly:"",type:"text"},domProps:{value:t.parsed},on:{click:t.show,input:function(e){e.target.composing||(t.parsed=e.target.value)}}}),t._v(" "),e("b-modal",{ref:"modalNumber",attrs:{id:"modalNumber",centered:"","no-fade":"","hide-header":"","hide-footer":"","modal-class":"fade scale","content-class":"text-center rounded",title:"BootstrapVue"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("b-container",[e("div",{staticClass:"pt-4 text-right"},[e("h5",[e("strong",[t._v("\n            "+t._s(t.input?t.input:0)+"\n          ")])])])]),t._v(" "),e("hr",{staticClass:"m-3"}),t._v(" "),t.max?e("b-container",[e("div",{staticClass:"text-right"},[e("h6",{staticClass:"text-danger"},[e("strong",[t._v("\n            ( Max "+t._s(t.max)+" )\n          ")])])])]):t._e(),t._v(" "),e("div",[e("div",{staticClass:"row m-3 mb-5"},[t._l(9,(function(i){return e("div",{key:i,staticClass:"col-4 p-4 b-1 clickable",on:{click:function(e){t.onAdd(i.toString())}}},[t._v("\n          "+t._s(i)+"\n        ")])})),t._v(" "),e("div",{staticClass:"col-4 p-4 b-1",on:{click:function(e){return t.onAdd(".")}}},[t._v("\n          .\n        ")]),t._v(" "),e("div",{staticClass:"col-4 p-4 b-1",on:{click:function(e){t.input.length>0&&t.onAdd("0")}}},[t._v("\n          0\n        ")]),t._v(" "),e("div",{staticClass:"col-4 p-4 b-1",on:{click:t.onDelete}},[t._v("\n          x\n        ")])],2)]),t._v(" "),e("b-button",{staticClass:"mt-3 text-white",attrs:{variant:"primary",block:""},on:{click:t.onSubmit}},[t._v("\n      Simpan\n    ")]),t._v(" "),e("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:function(){t.state=!1}}},[t._v("\n      Batal\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},534:function(t,e,n){"use strict";n.r(e);n(16),n(31);var o={components:{inputNumber:n(515).default},props:{value:{default:function(){return{}},type:Object},invoice:{default:function(){return{}},type:Object}},data:function(){return{state:!1,options:[],selected:null,store_endpoint:"item/returnTransaction",isLoading:!1}},methods:{show:function(){this.state=!0;var t=JSON.parse(JSON.stringify(this.invoice.Items));this.options=t.map((function(dt){return{NamaItem:dt.NamaItem,KodeItem:dt.KodeItem,KodeSatuan:dt.KodeSatuan,Qty:0,Max:dt.Return?dt.Qty-dt.Return.Qty:dt.Qty}}))},reset:function(){this.input=null,this.selected=null},onSubmit:function(){var t=this;this.isLoading=!0,console.log("options: ",this.options);var e={code:this.invoice.KodeKasir,warehouse:this.invoice.KodeLokasi,lines:this.options.map((function(dt){return{code:dt.KodeItem,qty:dt.Qty}}))};this.$store.dispatch(this.store_endpoint,e).then((function(e){t.$store.commit("alert/setAlert",{type:"success",msg:"Data Berhasil Disimpan"}),t.isLoading=!1,t.state=!1,t.$emit("submit")})).catch((function(e){console.log(e),t.$store.commit("alert/setAlert",{type:"fail",msg:"Terjadi Kesalahan"}),t.isLoading=!1}))}}},r=n(84),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("b-modal",{ref:"modalReturn",attrs:{id:"modalReturn",centered:"","no-fade":"","hide-header":"","hide-footer":"","modal-class":"fade scale","content-class":"rounded",title:"BootstrapVue"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[e("div",[e("b-container",{staticClass:"mb-4"},[e("div",{staticClass:"text-center pt-4"},[e("h5",{staticClass:"text-primary"},[e("strong",[t._v("\n              Form Retur\n            ")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"text-center col"},[e("h5",[t._v("\n              "+t._s(t.invoice&&t.invoice.KodeKasir)+"\n            ")])]),t._v(" "),e("div",{staticClass:"col-12 mt-3"},[e("h6",[t._v("Daftar Item")])]),t._v(" "),e("div",{staticClass:"col-12 row"},[e("div",{staticClass:"col-8"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                  Barang\n                ")])])]),t._v(" "),e("div",{staticClass:"col-2"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                  Satuan\n                ")])])]),t._v(" "),e("div",{staticClass:"col-2"},[e("h6",{staticClass:"mb-0 text-primary"},[e("strong",[t._v("\n                  Qty\n                ")])])])]),t._v(" "),t._l(t.options,(function(dt,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:dt.Max>0,expression:"dt.Max > 0"}],key:"i-"+i,staticClass:"col-12 row mt-2"},[e("div",{staticClass:"col-8 mx-0 pr-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:dt.NamaItem,expression:"dt.NamaItem"}],staticClass:"form-control input-modal",attrs:{readonly:"",type:"text"},domProps:{value:dt.NamaItem},on:{input:function(e){e.target.composing||t.$set(dt,"NamaItem",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-2 mx-0 pr-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:dt.KodeSatuan,expression:"dt.KodeSatuan"}],staticClass:"form-control input-modal",attrs:{readonly:"",type:"text"},domProps:{value:dt.KodeSatuan},on:{input:function(e){e.target.composing||t.$set(dt,"KodeSatuan",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-2 mx-0 pr-0"},[e("inputNumber",{ref:"inputNumber",refInFor:!0,attrs:{value:dt.Qty,max:dt.Max},on:{submit:function(t){dt.Qty=t}}})],1)])})),t._v(" "),e("div",{staticClass:"col-12 pt-2"},[e("hr")]),t._v(" "),e("div",{staticClass:"col-12 pt-2"},[e("button",{staticClass:"btn btn-block btn-primary btn-sm mb-3",attrs:{disabled:t.isLoading},on:{click:t.onSubmit}},[t._v("\n              Retur\n            ")])])],2)])],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);